<div class="container">
  <div class="surface-section">
    <div class="font-medium text-3xl text-900 mb-3">User Informationen</div>
    <div class="text-500 mb-5">
      Daten zum User
    </div>
    <ul *ngIf="myUser2; else loading" class="list-none p-0 m-0">
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Username</div>
        <div *ngIf="!editDisplayName" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          {{ myUserData2.name }}
        </div>
        <div *ngIf="editDisplayName" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          <form [formGroup]="userForm">
            <input formControlName="displayName" type="text" pInputText />
          </form>
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editDisplayName" pButton pRipple label="Edit" icon="pi pi-pencil" class="p-button-text"
            (click)="edit('editDisplayName')"></button>
          <button *ngIf="editDisplayName" pButton pRipple label="Speichern" icon="pi pi-save" class="p-button-text"
            (click)="saveUserData()"></button>
          <button *ngIf="editDisplayName" pButton pRipple label="Abbrechen" icon="pi pi-times" class="p-button-text"
            (click)="cancel('editDisplayName')"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">E-Mail</div>
        <!--div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
                <p-chips label="Crime" class="mr-2"></p-chips>
                <p-chips label="Drama" class="mr-2"></p-chips>
                <p-chips label="Thriller"></p-chips>
            </div-->
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          {{ myUser2.providerData[0]?.email }}
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Angemeldet seit</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          {{ myUser2.metadata.createdAt | date : "dd.MM.yyyy HH:mm" }}
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Letzter Login</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          {{ myUser2.metadata.lastLoginAt | date : "dd.MM.yyyy HH:mm" }}
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">UID</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          {{ myUser2.uid }}
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Abteilung</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          {{ myUserData2.department }}
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Rolle</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          <div *ngIf="!editRole" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
            <div class="flex">
              <div class="flex align-items-center mr-2">
                <p-checkbox label="Admin" name="admin" [binary]="true" [disabled]="true" [ngModel]="this.authService.isAdmin$ | async"></p-checkbox>
              </div>
              <div class="flex align-items-center mr-2">
                <p-checkbox label="Team-Lead" name="lead" [binary]="true" [disabled]="true" [ngModel]="this.authService.isTeamLead$ | async"></p-checkbox>
              </div>
              <div class="flex align-items-center mr-2">
                <p-checkbox label="Team-Member" name="member" [binary]="true" [disabled]="true" [ngModel]="this.authService.isTeamMember$ | async"></p-checkbox>
              </div>
            </div>
          </div>
          <div *ngIf="editRole" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
            <form [formGroup]="userForm">
              <p-multiSelect [options]="roles" formControlName="role" placeholder="Rolen"></p-multiSelect>
            </form>
          </div>
        </div>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editRole" pButton pRipple label="Edit" icon="pi pi-pencil" class="p-button-text"
            (click)="edit('editRole')"></button>
          <button *ngIf="editRole" pButton pRipple label="Speichern" icon="pi pi-save" class="p-button-text"
            (click)="saveUserData()"></button>
            <button *ngIf="editRole" pButton pRipple label="Abbrechen" icon="pi pi-times" class="p-button-text"
            (click)="cancel('editRole')"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">E-Mail verifiziert</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          <p-checkbox [(ngModel)]=myUser2.emailVerified [binary]="true" [disabled]="true" inputId="binary"></p-checkbox>
        </div>

        <div class="w-6 md:w-2 flex justify-content-end">
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Verifiziert durch Admin</div>
        <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
          <p-checkbox [(ngModel)]=myUserData2.verifyAdmin [binary]="true" [disabled]="disableVerfify"
            inputId="binary"></p-checkbox>
        </div>

        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="disableVerfify" pButton pRipple label="Edit" icon="pi pi-pencil" class="p-button-text"
            (click)="edit('disableVerfify')"></button>
          <button *ngIf="!disableVerfify" pButton pRipple label="Speichern" icon="pi pi-save" class="p-button-text"
            (click)="saveUserData()"></button>
            <button *ngIf="!disableVerfify" pButton pRipple label="Abbrechen" icon="pi pi-times" class="p-button-text"
            (click)="cancel('disableVerfify')"></button>
        </div>
      </li>
    </ul>
  </div>
</div>
<ng-template #loading>
  <div class="flex justify-content-center mt-10">
      <p-progressSpinner></p-progressSpinner>
  </div>
</ng-template>
<div>{{myUser2 | json}}</div>
<p-toast></p-toast>